language: python
env:
    - COVERAGE=--with-coverage
python:
    - "2.7"
virtualenv:
    system_site_packages: true
before_install:
    - sudo apt-get update -qq
    - sudo apt-get install -qq python-scipy python-nose
install: python setup.py build_ext --inplace
	 - if [ "${COVERAGE}" == "--with-coverage" ]; then
      	   sudo $PIP install coverage;
      	   fi
script: - make test
    	- if [ "${COVERAGE}" == "--with-coverage" ]; then make test-coverage; fi
